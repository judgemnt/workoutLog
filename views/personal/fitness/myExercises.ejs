<% layout("layouts/boilerplate")%>

    <div><a href="/user/programs">programs</a> /<a href="/user/programs/<%=workout.program%>/workouts">
            workouts
        </a></div>
    <h1>
        <%= workout.session %>
    </h1>
    <% if (sortedEx.length> 0) { %>
        <div>
            <table>
                <thead>
                    <tr>
                        <td>Exercises</td>
                        <td>Sets</td>
                        <td>Reps</td>
                    </tr>
                </thead>
                <tbody>
                    <form action="/user/programs/<%=workout.program%>/workouts/<%=workout._id%>?_method=DELETE"
                        method="POST">
                        <% for (let e of sortedEx) { %>
                            <tr>
                                <td>
                                    <input type="checkbox" name="exercises[exercise]" id="exercises[<%=e._id%>]"
                                        value="<%=e._id%>">
                                    <label for="exercises[<%=e._id%>]">
                                        <%= e.exercise %>
                                    </label>
                                </td>
                                <td>
                                    <%= e.sets %>
                                </td>
                                <td>
                                    <%= e.reps %>
                                </td>
                            </tr>
                            <% } %>
                </tbody>
            </table>
            <button>Remove selected</button>
            </form>
            <a href="/user/programs/<%=workout.program%>/workouts/<%=workout._id%>/edit"><button>Edit
                    Exercises</button></a>
        </div>
        <% } %>
            <div>
                <h2>Add Exercises</h2>
                <form action="/user/programs/<%=workout.program%>/workouts/<%=workout._id%>" method="POST">
                    <label for="exercises[exercise]">Exercise</label>
                    <input type="text" name="exercises[exercise]" id="exercises[exercise]">
                    <label for="exercises[sets]">Sets</label>
                    <input type="number" name="exercises[sets]" id="exercises[sets]">
                    <label for="exercises[reps]">Reps</label>
                    <input type="number" name="exercises[reps]" id="exercises[reps]">
                    <button>Submit</button>
                </form>
            </div>